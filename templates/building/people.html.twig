{% extends 'base.html.twig' %}

{% block title %}People List{% endblock %}

{% block body %}
<div style="max-width: 1200px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif;">
    <h1 style="color: #333; border-bottom: 2px solid #28a745; padding-bottom: 10px;">People List</h1>
    
    <div style="margin: 20px 0;">
        <a href="{{ path('app_buildings') }}" style="padding: 10px 20px; background: #007bff; color: white; text-decoration: none; margin-right: 10px; border-radius: 5px;">Buildings</a>
        <a href="{{ path('app_people') }}" style="padding: 10px 20px; background: #28a745; color: white; text-decoration: none; border-radius: 5px;">People</a>
    </div>

    {% if people is empty %}
        <div style="padding: 20px; background: #f8d7da; color: #721c24; border-radius: 5px; margin-top: 20px;">
            <strong>No people found.</strong> Please run the command to add sample data.
        </div>
    {% else %}
        <table style="width: 100%; border-collapse: collapse; margin-top: 20px; background: white;">
            <thead>
                <tr style="background: #28a745; color: white;">
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">First Name</th>
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Last Name</th>
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Email</th>
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Phone</th>
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Building</th>
                </tr>
            </thead>
            <tbody>
                {% for person in people %}
                    <tr style="{% if loop.index is odd %}background: #f9f9f9;{% endif %}">
                        <td style="padding: 12px; border: 1px solid #ddd;">{{ person.firstName }}</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">{{ person.lastName }}</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">{{ person.email }}</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">{{ person.phone ?? 'N/A' }}</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">
                            <a href="{{ path('app_building_show', {id: person.building.id}) }}" style="color: #007bff; text-decoration: none;">
                                {{ person.building.name }}
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>
{% endblock %}
